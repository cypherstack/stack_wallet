/* 
 * This file is part of Stack Wallet.
 * 
 * Copyright (c) 2023 Cypher Stack
 * All Rights Reserved.
 * The code is distributed under GPLv3 license, see LICENSE file for details.
 * Generated by Cypher Stack on 2023-05-26
 *
 */

import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import '../../../../themes/stack_colors.dart';
import '../../../../utilities/assets.dart';
import '../../../../utilities/constants.dart';
import '../../../../utilities/enums/txs_method_mwc_enum.dart';
import '../../../../utilities/util.dart';
import '../../../../widgets/toggle.dart';

class MwcTxsMethodToggle extends ConsumerWidget {
  const MwcTxsMethodToggle({
    super.key,
    this.onChanged,
  });

  final void Function(TxsMethodMwcType)? onChanged;

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    debugPrint("BUILD: $runtimeType");
    final isDesktop = Util.isDesktop;

    return Toggle(
      onValueChanged: (value) {
        if (value) {
          onChanged?.call(TxsMethodMwcType.slatepack);
        } else {
          onChanged?.call(TxsMethodMwcType.automatic);
        }
      },
      isOn: false,
      onColor: isDesktop
          ? Theme.of(context)
              .extension<StackColors>()!
              .rateTypeToggleDesktopColorOn
          : Theme.of(context).extension<StackColors>()!.rateTypeToggleColorOn,
      offColor: isDesktop
          ? Theme.of(context)
              .extension<StackColors>()!
              .rateTypeToggleDesktopColorOff
          : Theme.of(context).extension<StackColors>()!.rateTypeToggleColorOff,
      decoration: BoxDecoration(
        borderRadius: BorderRadius.circular(
          Constants.size.circularBorderRadius,
        ),
      ),
      onIcon: Assets.svg.gear,
      onText: "Slatepack",
      offIcon: Assets.svg.radioSyncing,
      offText: "Automatic",
    );
  }
}
